## 与 HTTP 协作的 Web 服务器

### 5.1

一台服务器，使用虚拟主机功能，可以看上去有多台服务器，即支持多个域名。
一台服务器，一个 IP 地址。

域名通过 DNS 服务映射到 IP 地址（域名解析）后访问目标网站。
请求发送到服务器时，是以 IP 地址形式访问。

www.abc.com 和 www.def.com 部署在同一个服务器上，则两者访问的 IP 地址相同。

如何区分？在发送 HTTP 请求时，必须在 Host 首部内完整指定主机名或域名的 URI。

### 5.2 通信数据转发程序

代理

* 接收客户端请求，转发给源服务器；接收源服务器返回的响应，再传给客户端
* 不改变请求 URI
* 可以串联多台代理服务器，转发时附加 Via 首部字段以标记出经过的主机信息 (Via: proxy1)
* 应用：利用缓存技术减少带宽流量；针对特定 URI 的访问控制
* 分类依据：是否使用缓存；是否修改报文 (不修改--透明代理；加工报文--非透明代理)

网关

* 可以由 HTTP 请求转化为其他协议通信
* 可通过客户端与网关之间的加密提高通信安全

隧道

* 建立安全的通信线路，使用 SSL 等加密手段
* 不解析 HTTP 请求

### 5.3

缓存

* 是代理服务器的一种
* 缓存过期后，需要再次向源服务器确认
* 存在于缓存服务器 or 客户端浏览器